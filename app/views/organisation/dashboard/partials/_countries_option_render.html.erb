<div class="dropdown custom-dropdown">
  <button class="border-0 mb-3 p-3 bg-body-color dropdown-toggle w-100 shadow-none" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <span class="d-flex flex-column align-items-start">
      <h6 class="text-capitalize font-12 font-xxl-14 mb-1">
        <span class="font-600 text-capitalize">countries .</span>
        <span class="text-light-grey font-600 countries-count"><%= selected_count_filters(params, "country_ids") %></span>
      </h6>
      <span class="text-capitalize font-12 font-xxl-14 text-light-grey font-600">View all</span>
    </span>
  </button>
  <div class="dropdown-menu down-drop z-index-12 h-420-with-scroll" aria-labelledby="dropdownMenuButton">
    <div class="form-group dropdown-item pl-3 m-0">
      <label for="country-all" class="custom-checkbox d-flex m-0">
        <span class="font-12 text-black text-capitalize">View All</span>
        <%= check_box_tag 'filters[country_ids][]', 'all', checkboxes_handler(params, "country_ids", "all"), id: "country-all", class: 'form-control countries', onclick: 'selectCall();RailsUJS.fire(this.form, "submit")' %>
        <span class="transparent-checkmark"></span>
      </label>
    </div>
    <% countries.each do |country| %>
      <div class="form-group dropdown-item pl-3 m-0">
        <label for="country<%= country.id %>" class="custom-checkbox d-flex m-0">
          <span class="font-12 text-black text-capitalize">
          <i class="flag <%= country.name.downcase %>"></i>
          <%= country.name %></span>
          <%= check_box_tag 'filters[country_ids][]', country.id, checkboxes_handler(params, "country_ids", country.id), id: "country#{country.id}", class: 'form-control countries', onclick: 'RailsUJS.fire(this.form, "submit")' %>
          <span class="transparent-checkmark"></span>
        </label>
      </div>
    <% end %>
  </div>
</div>
